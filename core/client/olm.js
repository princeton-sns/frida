/* eslint-disable */
// @license magnet:?xt=urn:btih:8e4f440f4c65981c5bf93c76d35135ba5064d8b7&dn=apache-2.0.txt Apache-2.0
// @source: https://gitlab.matrix.org/matrix-org/olm/-/tree/3.2.12

var Olm = (function() {
var olm_exports = {};
var onInitSuccess;
var onInitFail;

var Module = (() => {
  var _scriptDir = typeof document !== 'undefined' && document.currentScript ? document.currentScript.src : undefined;
  if (typeof __filename !== 'undefined') _scriptDir = _scriptDir || __filename;
  return (
function(Module) {
  Module = Module || {};

var Module=typeof Module!="undefined"?Module:{};var readyPromiseResolve,readyPromiseReject;Module["ready"]=new Promise(function(resolve,reject){readyPromiseResolve=resolve;readyPromiseReject=reject});var get_random_values;if(typeof window!=="undefined"){get_random_values=function(buf){window.crypto.getRandomValues(buf)}}else if(module["exports"]){var nodeCrypto=require("crypto");get_random_values=function(buf){var bytes=nodeCrypto["randomBytes"](buf.length);buf.set(bytes)};process=global["process"]}else{throw new Error("Cannot find global to attach library to")}if(typeof OLM_OPTIONS!=="undefined"){for(var olm_option_key in OLM_OPTIONS){if(OLM_OPTIONS.hasOwnProperty(olm_option_key)){Module[olm_option_key]=OLM_OPTIONS[olm_option_key]}}}var NULL_BYTE_PADDING_LENGTH=1;Module["onRuntimeInitialized"]=function(){OLM_ERROR=Module["_olm_error"]();olm_exports["PRIVATE_KEY_LENGTH"]=Module["_olm_pk_private_key_length"]();if(onInitSuccess)onInitSuccess()};Module["onAbort"]=function(err){if(onInitFail)onInitFail(err)};var moduleOverrides=Object.assign({},Module);var arguments_=[];var thisProgram="./this.program";var quit_=(status,toThrow)=>{throw toThrow};var ENVIRONMENT_IS_WEB=typeof window=="object";var ENVIRONMENT_IS_WORKER=typeof importScripts=="function";var ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";var scriptDirectory="";function locateFile(path){if(Module["locateFile"]){return Module["locateFile"](path,scriptDirectory)}return scriptDirectory+path}var read_,readAsync,readBinary,setWindowTitle;function logExceptionOnExit(e){if(e instanceof ExitStatus)return;let toLog=e;err("exiting due to exception: "+toLog)}var fs;var nodePath;var requireNodeFS;if(ENVIRONMENT_IS_NODE){if(ENVIRONMENT_IS_WORKER){scriptDirectory=require("path").dirname(scriptDirectory)+"/"}else{scriptDirectory=__dirname+"/"}requireNodeFS=(()=>{if(!nodePath){fs=require("fs");nodePath=require("path")}});read_=function shell_read(filename,binary){requireNodeFS();filename=nodePath["normalize"](filename);return fs.readFileSync(filename,binary?undefined:"utf8")};readBinary=(filename=>{var ret=read_(filename,true);if(!ret.buffer){ret=new Uint8Array(ret)}return ret});readAsync=((filename,onload,onerror)=>{requireNodeFS();filename=nodePath["normalize"](filename);fs.readFile(filename,function(err,data){if(err)onerror(err);else onload(data.buffer)})});if(process["argv"].length>1){thisProgram=process["argv"][1].replace(/\\/g,"/")}arguments_=process["argv"].slice(2);process["on"]("uncaughtException",function(ex){if(!(ex instanceof ExitStatus)){throw ex}});process["on"]("unhandledRejection",function(reason){throw reason});quit_=((status,toThrow)=>{if(keepRuntimeAlive()){process["exitCode"]=status;throw toThrow}logExceptionOnExit(toThrow);process["exit"](status)});Module["inspect"]=function(){return"[Emscripten Module object]"}}else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(ENVIRONMENT_IS_WORKER){scriptDirectory=self.location.href}else if(typeof document!="undefined"&&document.currentScript){scriptDirectory=document.currentScript.src}if(_scriptDir){scriptDirectory=_scriptDir}if(scriptDirectory.indexOf("blob:")!==0){scriptDirectory=scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1)}else{scriptDirectory=""}{read_=(url=>{var xhr=new XMLHttpRequest;xhr.open("GET",url,false);xhr.send(null);return xhr.responseText});if(ENVIRONMENT_IS_WORKER){readBinary=(url=>{var xhr=new XMLHttpRequest;xhr.open("GET",url,false);xhr.responseType="arraybuffer";xhr.send(null);return new Uint8Array(xhr.response)})}readAsync=((url,onload,onerror)=>{var xhr=new XMLHttpRequest;xhr.open("GET",url,true);xhr.responseType="arraybuffer";xhr.onload=(()=>{if(xhr.status==200||xhr.status==0&&xhr.response){onload(xhr.response);return}onerror()});xhr.onerror=onerror;xhr.send(null)})}setWindowTitle=(title=>document.title=title)}else{}var out=Module["print"]||console.log.bind(console);var err=Module["printErr"]||console.warn.bind(console);Object.assign(Module,moduleOverrides);moduleOverrides=null;if(Module["arguments"])arguments_=Module["arguments"];if(Module["thisProgram"])thisProgram=Module["thisProgram"];if(Module["quit"])quit_=Module["quit"];var wasmBinary;if(Module["wasmBinary"])wasmBinary=Module["wasmBinary"];var noExitRuntime=Module["noExitRuntime"]||true;if(typeof WebAssembly!="object"){abort("no native wasm support detected")}function setValue(ptr,value,type="i8",noSafe){if(type.charAt(type.length-1)==="*")type="i32";switch(type){case"i1":HEAP8[ptr>>0]=value;break;case"i8":HEAP8[ptr>>0]=value;break;case"i16":HEAP16[ptr>>1]=value;break;case"i32":HEAP32[ptr>>2]=value;break;case"i64":tempI64=[value>>>0,(tempDouble=value,+Math.abs(tempDouble)>=1?tempDouble>0?(Math.min(+Math.floor(tempDouble/4294967296),4294967295)|0)>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[ptr>>2]=tempI64[0],HEAP32[ptr+4>>2]=tempI64[1];break;case"float":HEAPF32[ptr>>2]=value;break;case"double":HEAPF64[ptr>>3]=value;break;default:abort("invalid type for setValue: "+type)}}function getValue(ptr,type="i8",noSafe){if(type.charAt(type.length-1)==="*")type="i32";switch(type){case"i1":return HEAP8[ptr>>0];case"i8":return HEAP8[ptr>>0];case"i16":return HEAP16[ptr>>1];case"i32":return HEAP32[ptr>>2];case"i64":return HEAP32[ptr>>2];case"float":return HEAPF32[ptr>>2];case"double":return Number(HEAPF64[ptr>>3]);default:abort("invalid type for getValue: "+type)}return null}var wasmMemory;var ABORT=false;var EXITSTATUS;var ALLOC_STACK=1;var UTF8Decoder=typeof TextDecoder!="undefined"?new TextDecoder("utf8"):undefined;function UTF8ArrayToString(heap,idx,maxBytesToRead){var endIdx=idx+maxBytesToRead;var endPtr=idx;while(heap[endPtr]&&!(endPtr>=endIdx))++endPtr;if(endPtr-idx>16&&heap.subarray&&UTF8Decoder){return UTF8Decoder.decode(heap.subarray(idx,endPtr))}else{var str="";while(idx<endPtr){var u0=heap[idx++];if(!(u0&128)){str+=String.fromCharCode(u0);continue}var u1=heap[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue}var u2=heap[idx++]&63;if((u0&240)==224){u0=(u0&15)<<12|u1<<6|u2}else{u0=(u0&7)<<18|u1<<12|u2<<6|heap[idx++]&63}if(u0<65536){str+=String.fromCharCode(u0)}else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023)}}}return str}function UTF8ToString(ptr,maxBytesToRead){return ptr?UTF8ArrayToString(HEAPU8,ptr,maxBytesToRead):""}function stringToUTF8Array(str,heap,outIdx,maxBytesToWrite){if(!(maxBytesToWrite>0))return 0;var startIdx=outIdx;var endIdx=outIdx+maxBytesToWrite-1;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343){var u1=str.charCodeAt(++i);u=65536+((u&1023)<<10)|u1&1023}if(u<=127){if(outIdx>=endIdx)break;heap[outIdx++]=u}else if(u<=2047){if(outIdx+1>=endIdx)break;heap[outIdx++]=192|u>>6;heap[outIdx++]=128|u&63}else if(u<=65535){if(outIdx+2>=endIdx)break;heap[outIdx++]=224|u>>12;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63}else{if(outIdx+3>=endIdx)break;heap[outIdx++]=240|u>>18;heap[outIdx++]=128|u>>12&63;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63}}heap[outIdx]=0;return outIdx-startIdx}function stringToUTF8(str,outPtr,maxBytesToWrite){return stringToUTF8Array(str,HEAPU8,outPtr,maxBytesToWrite)}function lengthBytesUTF8(str){var len=0;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343)u=65536+((u&1023)<<10)|str.charCodeAt(++i)&1023;if(u<=127)++len;else if(u<=2047)len+=2;else if(u<=65535)len+=3;else len+=4}return len}function writeAsciiToMemory(str,buffer,dontAddNull){for(var i=0;i<str.length;++i){HEAP8[buffer++>>0]=str.charCodeAt(i)}if(!dontAddNull)HEAP8[buffer>>0]=0}function alignUp(x,multiple){if(x%multiple>0){x+=multiple-x%multiple}return x}var buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateGlobalBufferAndViews(buf){buffer=buf;Module["HEAP8"]=HEAP8=new Int8Array(buf);Module["HEAP16"]=HEAP16=new Int16Array(buf);Module["HEAP32"]=HEAP32=new Int32Array(buf);Module["HEAPU8"]=HEAPU8=new Uint8Array(buf);Module["HEAPU16"]=HEAPU16=new Uint16Array(buf);Module["HEAPU32"]=HEAPU32=new Uint32Array(buf);Module["HEAPF32"]=HEAPF32=new Float32Array(buf);Module["HEAPF64"]=HEAPF64=new Float64Array(buf)}var INITIAL_MEMORY=Module["INITIAL_MEMORY"]||262144;var wasmTable;var __ATPRERUN__=[];var __ATINIT__=[];var __ATPOSTRUN__=[];var runtimeInitialized=false;var runtimeKeepaliveCounter=0;function keepRuntimeAlive(){return noExitRuntime||runtimeKeepaliveCounter>0}function preRun(){if(Module["preRun"]){if(typeof Module["preRun"]=="function")Module["preRun"]=[Module["preRun"]];while(Module["preRun"].length){addOnPreRun(Module["preRun"].shift())}}callRuntimeCallbacks(__ATPRERUN__)}function initRuntime(){runtimeInitialized=true;callRuntimeCallbacks(__ATINIT__)}function postRun(){if(Module["postRun"]){if(typeof Module["postRun"]=="function")Module["postRun"]=[Module["postRun"]];while(Module["postRun"].length){addOnPostRun(Module["postRun"].shift())}}callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(cb){__ATPRERUN__.unshift(cb)}function addOnInit(cb){__ATINIT__.unshift(cb)}function addOnPostRun(cb){__ATPOSTRUN__.unshift(cb)}var runDependencies=0;var runDependencyWatcher=null;var dependenciesFulfilled=null;function addRunDependency(id){runDependencies++;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies)}}function removeRunDependency(id){runDependencies--;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies)}if(runDependencies==0){if(runDependencyWatcher!==null){clearInterval(runDependencyWatcher);runDependencyWatcher=null}if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback()}}}Module["preloadedImages"]={};Module["preloadedAudios"]={};function abort(what){{if(Module["onAbort"]){Module["onAbort"](what)}}what="Aborted("+what+")";err(what);ABORT=true;EXITSTATUS=1;what+=". Build with -s ASSERTIONS=1 for more info.";var e=new WebAssembly.RuntimeError(what);readyPromiseReject(e);throw e}var dataURIPrefix="data:application/octet-stream;base64,";function isDataURI(filename){return filename.startsWith(dataURIPrefix)}function isFileURI(filename){return filename.startsWith("file://")}var wasmBinaryFile;wasmBinaryFile="olm.wasm";if(!isDataURI(wasmBinaryFile)){wasmBinaryFile=locateFile(wasmBinaryFile)}function getBinary(file){try{if(file==wasmBinaryFile&&wasmBinary){return new Uint8Array(wasmBinary)}if(readBinary){return readBinary(file)}else{throw"both async and sync fetching of the wasm failed"}}catch(err){abort(err)}}function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"&&!isFileURI(wasmBinaryFile)){return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(response){if(!response["ok"]){throw"failed to load wasm binary file at '"+wasmBinaryFile+"'"}return response["arrayBuffer"]()}).catch(function(){return getBinary(wasmBinaryFile)})}else{if(readAsync){return new Promise(function(resolve,reject){readAsync(wasmBinaryFile,function(response){resolve(new Uint8Array(response))},reject)})}}}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}function createWasm(){var info={"a":asmLibraryArg};function receiveInstance(instance,module){var exports=instance.exports;Module["asm"]=exports;wasmMemory=Module["asm"]["c"];updateGlobalBufferAndViews(wasmMemory.buffer);wasmTable=Module["asm"]["e"];addOnInit(Module["asm"]["d"]);removeRunDependency("wasm-instantiate")}addRunDependency("wasm-instantiate");function receiveInstantiationResult(result){receiveInstance(result["instance"])}function instantiateArrayBuffer(receiver){return getBinaryPromise().then(function(binary){return WebAssembly.instantiate(binary,info)}).then(function(instance){return instance}).then(receiver,function(reason){err("failed to asynchronously prepare wasm: "+reason);abort(reason)})}function instantiateAsync(){if(!wasmBinary&&typeof WebAssembly.instantiateStreaming=="function"&&!isDataURI(wasmBinaryFile)&&!isFileURI(wasmBinaryFile)&&typeof fetch=="function"){return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(response){var result=WebAssembly.instantiateStreaming(response,info);return result.then(receiveInstantiationResult,function(reason){err("wasm streaming compile failed: "+reason);err("falling back to ArrayBuffer instantiation");return instantiateArrayBuffer(receiveInstantiationResult)})})}else{return instantiateArrayBuffer(receiveInstantiationResult)}}if(Module["instantiateWasm"]){try{var exports=Module["instantiateWasm"](info,receiveInstance);return exports}catch(e){err("Module.instantiateWasm callback failed with error: "+e);return false}}instantiateAsync().catch(readyPromiseReject);return{}}var tempDouble;var tempI64;function callRuntimeCallbacks(callbacks){while(callbacks.length>0){var callback=callbacks.shift();if(typeof callback=="function"){callback(Module);continue}var func=callback.func;if(typeof func=="number"){if(callback.arg===undefined){getWasmTableEntry(func)()}else{getWasmTableEntry(func)(callback.arg)}}else{func(callback.arg===undefined?null:callback.arg)}}}var wasmTableMirror=[];function getWasmTableEntry(funcPtr){var func=wasmTableMirror[funcPtr];if(!func){if(funcPtr>=wasmTableMirror.length)wasmTableMirror.length=funcPtr+1;wasmTableMirror[funcPtr]=func=wasmTable.get(funcPtr)}return func}function _emscripten_memcpy_big(dest,src,num){HEAPU8.copyWithin(dest,src,src+num)}function _emscripten_get_heap_max(){return 2147483648}function emscripten_realloc_buffer(size){try{wasmMemory.grow(size-buffer.byteLength+65535>>>16);updateGlobalBufferAndViews(wasmMemory.buffer);return 1}catch(e){}}function _emscripten_resize_heap(requestedSize){var oldSize=HEAPU8.length;requestedSize=requestedSize>>>0;var maxHeapSize=_emscripten_get_heap_max();if(requestedSize>maxHeapSize){return false}for(var cutDown=1;cutDown<=4;cutDown*=2){var overGrownHeapSize=oldSize*(1+.2/cutDown);overGrownHeapSize=Math.min(overGrownHeapSize,requestedSize+100663296);var newSize=Math.min(maxHeapSize,alignUp(Math.max(requestedSize,overGrownHeapSize),65536));var replacement=emscripten_realloc_buffer(newSize);if(replacement){return true}}return false}function intArrayFromString(stringy,dontAddNull,length){var len=length>0?length:lengthBytesUTF8(stringy)+1;var u8array=new Array(len);var numBytesWritten=stringToUTF8Array(stringy,u8array,0,u8array.length);if(dontAddNull)u8array.length=numBytesWritten;return u8array}var asmLibraryArg={"b":_emscripten_memcpy_big,"a":_emscripten_resize_heap};var asm=createWasm();var ___wasm_call_ctors=Module["___wasm_call_ctors"]=function(){return(___wasm_call_ctors=Module["___wasm_call_ctors"]=Module["asm"]["d"]).apply(null,arguments)};var _olm_get_library_version=Module["_olm_get_library_version"]=function(){return(_olm_get_library_version=Module["_olm_get_library_version"]=Module["asm"]["f"]).apply(null,arguments)};var _olm_error=Module["_olm_error"]=function(){return(_olm_error=Module["_olm_error"]=Module["asm"]["g"]).apply(null,arguments)};var _olm_account_last_error=Module["_olm_account_last_error"]=function(){return(_olm_account_last_error=Module["_olm_account_last_error"]=Module["asm"]["h"]).apply(null,arguments)};var __olm_error_to_string=Module["__olm_error_to_string"]=function(){return(__olm_error_to_string=Module["__olm_error_to_string"]=Module["asm"]["i"]).apply(null,arguments)};var _olm_account_last_error_code=Module["_olm_account_last_error_code"]=function(){return(_olm_account_last_error_code=Module["_olm_account_last_error_code"]=Module["asm"]["j"]).apply(null,arguments)};var _olm_session_last_error=Module["_olm_session_last_error"]=function(){return(_olm_session_last_error=Module["_olm_session_last_error"]=Module["asm"]["k"]).apply(null,arguments)};var _olm_session_last_error_code=Module["_olm_session_last_error_code"]=function(){return(_olm_session_last_error_code=Module["_olm_session_last_error_code"]=Module["asm"]["l"]).apply(null,arguments)};var _olm_utility_last_error=Module["_olm_utility_last_error"]=function(){return(_olm_utility_last_error=Module["_olm_utility_last_error"]=Module["asm"]["m"]).apply(null,arguments)};var _olm_utility_last_error_code=Module["_olm_utility_last_error_code"]=function(){return(_olm_utility_last_error_code=Module["_olm_utility_last_error_code"]=Module["asm"]["n"]).apply(null,arguments)};var _olm_account_size=Module["_olm_account_size"]=function(){return(_olm_account_size=Module["_olm_account_size"]=Module["asm"]["o"]).apply(null,arguments)};var _olm_session_size=Module["_olm_session_size"]=function(){return(_olm_session_size=Module["_olm_session_size"]=Module["asm"]["p"]).apply(null,arguments)};var _olm_utility_size=Module["_olm_utility_size"]=function(){return(_olm_utility_size=Module["_olm_utility_size"]=Module["asm"]["q"]).apply(null,arguments)};var _olm_account=Module["_olm_account"]=function(){return(_olm_account=Module["_olm_account"]=Module["asm"]["r"]).apply(null,arguments)};var _olm_session=Module["_olm_session"]=function(){return(_olm_session=Module["_olm_session"]=Module["asm"]["s"]).apply(null,arguments)};var _olm_utility=Module["_olm_utility"]=function(){return(_olm_utility=Module["_olm_utility"]=Module["asm"]["t"]).apply(null,arguments)};var _olm_clear_account=Module["_olm_clear_account"]=function(){return(_olm_clear_account=Module["_olm_clear_account"]=Module["asm"]["u"]).apply(null,arguments)};var _olm_clear_session=Module["_olm_clear_session"]=function(){return(_olm_clear_session=Module["_olm_clear_session"]=Module["asm"]["v"]).apply(null,arguments)};var _olm_clear_utility=Module["_olm_clear_utility"]=function(){return(_olm_clear_utility=Module["_olm_clear_utility"]=Module["asm"]["w"]).apply(null,arguments)};var _olm_pickle_account_length=Module["_olm_pickle_account_length"]=function(){return(_olm_pickle_account_length=Module["_olm_pickle_account_length"]=Module["asm"]["x"]).apply(null,arguments)};var _olm_pickle_session_length=Module["_olm_pickle_session_length"]=function(){return(_olm_pickle_session_length=Module["_olm_pickle_session_length"]=Module["asm"]["y"]).apply(null,arguments)};var _olm_pickle_account=Module["_olm_pickle_account"]=function(){return(_olm_pickle_account=Module["_olm_pickle_account"]=Module["asm"]["z"]).apply(null,arguments)};var _olm_pickle_session=Module["_olm_pickle_session"]=function(){return(_olm_pickle_session=Module["_olm_pickle_session"]=Module["asm"]["A"]).apply(null,arguments)};var _olm_unpickle_account=Module["_olm_unpickle_account"]=function(){return(_olm_unpickle_account=Module["_olm_unpickle_account"]=Module["asm"]["B"]).apply(null,arguments)};var _olm_unpickle_session=Module["_olm_unpickle_session"]=function(){return(_olm_unpickle_session=Module["_olm_unpickle_session"]=Module["asm"]["C"]).apply(null,arguments)};var _olm_create_account_random_length=Module["_olm_create_account_random_length"]=function(){return(_olm_create_account_random_length=Module["_olm_create_account_random_length"]=Module["asm"]["D"]).apply(null,arguments)};var _olm_create_account=Module["_olm_create_account"]=function(){return(_olm_create_account=Module["_olm_create_account"]=Module["asm"]["E"]).apply(null,arguments)};var _olm_account_identity_keys_length=Module["_olm_account_identity_keys_length"]=function(){return(_olm_account_identity_keys_length=Module["_olm_account_identity_keys_length"]=Module["asm"]["F"]).apply(null,arguments)};var _olm_account_identity_keys=Module["_olm_account_identity_keys"]=function(){return(_olm_account_identity_keys=Module["_olm_account_identity_keys"]=Module["asm"]["G"]).apply(null,arguments)};var _olm_account_signature_length=Module["_olm_account_signature_length"]=function(){return(_olm_account_signature_length=Module["_olm_account_signature_length"]=Module["asm"]["H"]).apply(null,arguments)};var _olm_account_sign=Module["_olm_account_sign"]=function(){return(_olm_account_sign=Module["_olm_account_sign"]=Module["asm"]["I"]).apply(null,arguments)};var _olm_account_one_time_keys_length=Module["_olm_account_one_time_keys_length"]=function(){return(_olm_account_one_time_keys_length=Module["_olm_account_one_time_keys_length"]=Module["asm"]["J"]).apply(null,arguments)};var _olm_account_one_time_keys=Module["_olm_account_one_time_keys"]=function(){return(_olm_account_one_time_keys=Module["_olm_account_one_time_keys"]=Module["asm"]["K"]).apply(null,arguments)};var _olm_account_mark_keys_as_published=Module["_olm_account_mark_keys_as_published"]=function(){return(_olm_account_mark_keys_as_published=Module["_olm_account_mark_keys_as_published"]=Module["asm"]["L"]).apply(null,arguments)};var _olm_account_max_number_of_one_time_keys=Module["_olm_account_max_number_of_one_time_keys"]=function(){return(_olm_account_max_number_of_one_time_keys=Module["_olm_account_max_number_of_one_time_keys"]=Module["asm"]["M"]).apply(null,arguments)};var _olm_account_generate_one_time_keys_random_length=Module["_olm_account_generate_one_time_keys_random_length"]=function(){return(_olm_account_generate_one_time_keys_random_length=Module["_olm_account_generate_one_time_keys_random_length"]=Module["asm"]["N"]).apply(null,arguments)};var _olm_account_generate_one_time_keys=Module["_olm_account_generate_one_time_keys"]=function(){return(_olm_account_generate_one_time_keys=Module["_olm_account_generate_one_time_keys"]=Module["asm"]["O"]).apply(null,arguments)};var _olm_account_generate_fallback_key_random_length=Module["_olm_account_generate_fallback_key_random_length"]=function(){return(_olm_account_generate_fallback_key_random_length=Module["_olm_account_generate_fallback_key_random_length"]=Module["asm"]["P"]).apply(null,arguments)};var _olm_account_generate_fallback_key=Module["_olm_account_generate_fallback_key"]=function(){return(_olm_account_generate_fallback_key=Module["_olm_account_generate_fallback_key"]=Module["asm"]["Q"]).apply(null,arguments)};var _olm_account_fallback_key_length=Module["_olm_account_fallback_key_length"]=function(){return(_olm_account_fallback_key_length=Module["_olm_account_fallback_key_length"]=Module["asm"]["R"]).apply(null,arguments)};var _olm_account_fallback_key=Module["_olm_account_fallback_key"]=function(){return(_olm_account_fallback_key=Module["_olm_account_fallback_key"]=Module["asm"]["S"]).apply(null,arguments)};var _olm_account_unpublished_fallback_key_length=Module["_olm_account_unpublished_fallback_key_length"]=function(){return(_olm_account_unpublished_fallback_key_length=Module["_olm_account_unpublished_fallback_key_length"]=Module["asm"]["T"]).apply(null,arguments)};var _olm_account_unpublished_fallback_key=Module["_olm_account_unpublished_fallback_key"]=function(){return(_olm_account_unpublished_fallback_key=Module["_olm_account_unpublished_fallback_key"]=Module["asm"]["U"]).apply(null,arguments)};var _olm_account_forget_old_fallback_key=Module["_olm_account_forget_old_fallback_key"]=function(){return(_olm_account_forget_old_fallback_key=Module["_olm_account_forget_old_fallback_key"]=Module["asm"]["V"]).apply(null,arguments)};var _olm_create_outbound_session_random_length=Module["_olm_create_outbound_session_random_length"]=function(){return(_olm_create_outbound_session_random_length=Module["_olm_create_outbound_session_random_length"]=Module["asm"]["W"]).apply(null,arguments)};var _olm_create_outbound_session=Module["_olm_create_outbound_session"]=function(){return(_olm_create_outbound_session=Module["_olm_create_outbound_session"]=Module["asm"]["X"]).apply(null,arguments)};var _olm_create_inbound_session=Module["_olm_create_inbound_session"]=function(){return(_olm_create_inbound_session=Module["_olm_create_inbound_session"]=Module["asm"]["Y"]).apply(null,arguments)};var _olm_create_inbound_session_from=Module["_olm_create_inbound_session_from"]=function(){return(_olm_create_inbound_session_from=Module["_olm_create_inbound_session_from"]=Module["asm"]["Z"]).apply(null,arguments)};var _olm_session_id_length=Module["_olm_session_id_length"]=function(){return(_olm_session_id_length=Module["_olm_session_id_length"]=Module["asm"]["_"]).apply(null,arguments)};var _olm_session_id=Module["_olm_session_id"]=function(){return(_olm_session_id=Module["_olm_session_id"]=Module["asm"]["$"]).apply(null,arguments)};var _olm_session_has_received_message=Module["_olm_session_has_received_message"]=function(){return(_olm_session_has_received_message=Module["_olm_session_has_received_message"]=Module["asm"]["aa"]).apply(null,arguments)};var _olm_session_describe=Module["_olm_session_describe"]=function(){return(_olm_session_describe=Module["_olm_session_describe"]=Module["asm"]["ba"]).apply(null,arguments)};var _olm_matches_inbound_session=Module["_olm_matches_inbound_session"]=function(){return(_olm_matches_inbound_session=Module["_olm_matches_inbound_session"]=Module["asm"]["ca"]).apply(null,arguments)};var _olm_matches_inbound_session_from=Module["_olm_matches_inbound_session_from"]=function(){return(_olm_matches_inbound_session_from=Module["_olm_matches_inbound_session_from"]=Module["asm"]["da"]).apply(null,arguments)};var _olm_remove_one_time_keys=Module["_olm_remove_one_time_keys"]=function(){return(_olm_remove_one_time_keys=Module["_olm_remove_one_time_keys"]=Module["asm"]["ea"]).apply(null,arguments)};var _olm_encrypt_message_type=Module["_olm_encrypt_message_type"]=function(){return(_olm_encrypt_message_type=Module["_olm_encrypt_message_type"]=Module["asm"]["fa"]).apply(null,arguments)};var _olm_encrypt_random_length=Module["_olm_encrypt_random_length"]=function(){return(_olm_encrypt_random_length=Module["_olm_encrypt_random_length"]=Module["asm"]["ga"]).apply(null,arguments)};var _olm_encrypt_message_length=Module["_olm_encrypt_message_length"]=function(){return(_olm_encrypt_message_length=Module["_olm_encrypt_message_length"]=Module["asm"]["ha"]).apply(null,arguments)};var _olm_encrypt=Module["_olm_encrypt"]=function(){return(_olm_encrypt=Module["_olm_encrypt"]=Module["asm"]["ia"]).apply(null,arguments)};var _olm_decrypt_max_plaintext_length=Module["_olm_decrypt_max_plaintext_length"]=function(){return(_olm_decrypt_max_plaintext_length=Module["_olm_decrypt_max_plaintext_length"]=Module["asm"]["ja"]).apply(null,arguments)};var _olm_decrypt=Module["_olm_decrypt"]=function(){return(_olm_decrypt=Module["_olm_decrypt"]=Module["asm"]["ka"]).apply(null,arguments)};var _olm_sha256_length=Module["_olm_sha256_length"]=function(){return(_olm_sha256_length=Module["_olm_sha256_length"]=Module["asm"]["la"]).apply(null,arguments)};var _olm_sha256=Module["_olm_sha256"]=function(){return(_olm_sha256=Module["_olm_sha256"]=Module["asm"]["ma"]).apply(null,arguments)};var _olm_ed25519_verify=Module["_olm_ed25519_verify"]=function(){return(_olm_ed25519_verify=Module["_olm_ed25519_verify"]=Module["asm"]["na"]).apply(null,arguments)};var _olm_pk_encryption_last_error=Module["_olm_pk_encryption_last_error"]=function(){return(_olm_pk_encryption_last_error=Module["_olm_pk_encryption_last_error"]=Module["asm"]["oa"]).apply(null,arguments)};var _olm_pk_encryption_last_error_code=Module["_olm_pk_encryption_last_error_code"]=function(){return(_olm_pk_encryption_last_error_code=Module["_olm_pk_encryption_last_error_code"]=Module["asm"]["pa"]).apply(null,arguments)};var _olm_pk_encryption_size=Module["_olm_pk_encryption_size"]=function(){return(_olm_pk_encryption_size=Module["_olm_pk_encryption_size"]=Module["asm"]["qa"]).apply(null,arguments)};var _olm_pk_encryption=Module["_olm_pk_encryption"]=function(){return(_olm_pk_encryption=Module["_olm_pk_encryption"]=Module["asm"]["ra"]).apply(null,arguments)};var _olm_clear_pk_encryption=Module["_olm_clear_pk_encryption"]=function(){return(_olm_clear_pk_encryption=Module["_olm_clear_pk_encryption"]=Module["asm"]["sa"]).apply(null,arguments)};var _olm_pk_encryption_set_recipient_key=Module["_olm_pk_encryption_set_recipient_key"]=function(){return(_olm_pk_encryption_set_recipient_key=Module["_olm_pk_encryption_set_recipient_key"]=Module["asm"]["ta"]).apply(null,arguments)};var _olm_pk_key_length=Module["_olm_pk_key_length"]=function(){return(_olm_pk_key_length=Module["_olm_pk_key_length"]=Module["asm"]["ua"]).apply(null,arguments)};var _olm_pk_ciphertext_length=Module["_olm_pk_ciphertext_length"]=function(){return(_olm_pk_ciphertext_length=Module["_olm_pk_ciphertext_length"]=Module["asm"]["va"]).apply(null,arguments)};var _olm_pk_mac_length=Module["_olm_pk_mac_length"]=function(){return(_olm_pk_mac_length=Module["_olm_pk_mac_length"]=Module["asm"]["wa"]).apply(null,arguments)};var _olm_pk_encrypt_random_length=Module["_olm_pk_encrypt_random_length"]=function(){return(_olm_pk_encrypt_random_length=Module["_olm_pk_encrypt_random_length"]=Module["asm"]["xa"]).apply(null,arguments)};var _olm_pk_encrypt=Module["_olm_pk_encrypt"]=function(){return(_olm_pk_encrypt=Module["_olm_pk_encrypt"]=Module["asm"]["ya"]).apply(null,arguments)};var _olm_pk_decryption_last_error=Module["_olm_pk_decryption_last_error"]=function(){return(_olm_pk_decryption_last_error=Module["_olm_pk_decryption_last_error"]=Module["asm"]["za"]).apply(null,arguments)};var _olm_pk_decryption_last_error_code=Module["_olm_pk_decryption_last_error_code"]=function(){return(_olm_pk_decryption_last_error_code=Module["_olm_pk_decryption_last_error_code"]=Module["asm"]["Aa"]).apply(null,arguments)};var _olm_pk_decryption_size=Module["_olm_pk_decryption_size"]=function(){return(_olm_pk_decryption_size=Module["_olm_pk_decryption_size"]=Module["asm"]["Ba"]).apply(null,arguments)};var _olm_pk_decryption=Module["_olm_pk_decryption"]=function(){return(_olm_pk_decryption=Module["_olm_pk_decryption"]=Module["asm"]["Ca"]).apply(null,arguments)};var _olm_clear_pk_decryption=Module["_olm_clear_pk_decryption"]=function(){return(_olm_clear_pk_decryption=Module["_olm_clear_pk_decryption"]=Module["asm"]["Da"]).apply(null,arguments)};var _olm_pk_private_key_length=Module["_olm_pk_private_key_length"]=function(){return(_olm_pk_private_key_length=Module["_olm_pk_private_key_length"]=Module["asm"]["Ea"]).apply(null,arguments)};var _olm_pk_generate_key_random_length=Module["_olm_pk_generate_key_random_length"]=function(){return(_olm_pk_generate_key_random_length=Module["_olm_pk_generate_key_random_length"]=Module["asm"]["Fa"]).apply(null,arguments)};var _olm_pk_key_from_private=Module["_olm_pk_key_from_private"]=function(){return(_olm_pk_key_from_private=Module["_olm_pk_key_from_private"]=Module["asm"]["Ga"]).apply(null,arguments)};var _olm_pk_generate_key=Module["_olm_pk_generate_key"]=function(){return(_olm_pk_generate_key=Module["_olm_pk_generate_key"]=Module["asm"]["Ha"]).apply(null,arguments)};var _olm_pickle_pk_decryption_length=Module["_olm_pickle_pk_decryption_length"]=function(){return(_olm_pickle_pk_decryption_length=Module["_olm_pickle_pk_decryption_length"]=Module["asm"]["Ia"]).apply(null,arguments)};var _olm_pickle_pk_decryption=Module["_olm_pickle_pk_decryption"]=function(){return(_olm_pickle_pk_decryption=Module["_olm_pickle_pk_decryption"]=Module["asm"]["Ja"]).apply(null,arguments)};var _olm_unpickle_pk_decryption=Module["_olm_unpickle_pk_decryption"]=function(){return(_olm_unpickle_pk_decryption=Module["_olm_unpickle_pk_decryption"]=Module["asm"]["Ka"]).apply(null,arguments)};var _olm_pk_max_plaintext_length=Module["_olm_pk_max_plaintext_length"]=function(){return(_olm_pk_max_plaintext_length=Module["_olm_pk_max_plaintext_length"]=Module["asm"]["La"]).apply(null,arguments)};var _olm_pk_decrypt=Module["_olm_pk_decrypt"]=function(){return(_olm_pk_decrypt=Module["_olm_pk_decrypt"]=Module["asm"]["Ma"]).apply(null,arguments)};var _olm_pk_get_private_key=Module["_olm_pk_get_private_key"]=function(){return(_olm_pk_get_private_key=Module["_olm_pk_get_private_key"]=Module["asm"]["Na"]).apply(null,arguments)};var _olm_pk_signing_size=Module["_olm_pk_signing_size"]=function(){return(_olm_pk_signing_size=Module["_olm_pk_signing_size"]=Module["asm"]["Oa"]).apply(null,arguments)};var _olm_pk_signing=Module["_olm_pk_signing"]=function(){return(_olm_pk_signing=Module["_olm_pk_signing"]=Module["asm"]["Pa"]).apply(null,arguments)};var _olm_pk_signing_last_error=Module["_olm_pk_signing_last_error"]=function(){return(_olm_pk_signing_last_error=Module["_olm_pk_signing_last_error"]=Module["asm"]["Qa"]).apply(null,arguments)};var _olm_pk_signing_last_error_code=Module["_olm_pk_signing_last_error_code"]=function(){return(_olm_pk_signing_last_error_code=Module["_olm_pk_signing_last_error_code"]=Module["asm"]["Ra"]).apply(null,arguments)};var _olm_clear_pk_signing=Module["_olm_clear_pk_signing"]=function(){return(_olm_clear_pk_signing=Module["_olm_clear_pk_signing"]=Module["asm"]["Sa"]).apply(null,arguments)};var _olm_pk_signing_seed_length=Module["_olm_pk_signing_seed_length"]=function(){return(_olm_pk_signing_seed_length=Module["_olm_pk_signing_seed_length"]=Module["asm"]["Ta"]).apply(null,arguments)};var _olm_pk_signing_public_key_length=Module["_olm_pk_signing_public_key_length"]=function(){return(_olm_pk_signing_public_key_length=Module["_olm_pk_signing_public_key_length"]=Module["asm"]["Ua"]).apply(null,arguments)};var _olm_pk_signing_key_from_seed=Module["_olm_pk_signing_key_from_seed"]=function(){return(_olm_pk_signing_key_from_seed=Module["_olm_pk_signing_key_from_seed"]=Module["asm"]["Va"]).apply(null,arguments)};var _olm_pk_signature_length=Module["_olm_pk_signature_length"]=function(){return(_olm_pk_signature_length=Module["_olm_pk_signature_length"]=Module["asm"]["Wa"]).apply(null,arguments)};var _olm_pk_sign=Module["_olm_pk_sign"]=function(){return(_olm_pk_sign=Module["_olm_pk_sign"]=Module["asm"]["Xa"]).apply(null,arguments)};var _olm_inbound_group_session_size=Module["_olm_inbound_group_session_size"]=function(){return(_olm_inbound_group_session_size=Module["_olm_inbound_group_session_size"]=Module["asm"]["Ya"]).apply(null,arguments)};var _olm_inbound_group_session=Module["_olm_inbound_group_session"]=function(){return(_olm_inbound_group_session=Module["_olm_inbound_group_session"]=Module["asm"]["Za"]).apply(null,arguments)};var _olm_clear_inbound_group_session=Module["_olm_clear_inbound_group_session"]=function(){return(_olm_clear_inbound_group_session=Module["_olm_clear_inbound_group_session"]=Module["asm"]["_a"]).apply(null,arguments)};var _olm_inbound_group_session_last_error=Module["_olm_inbound_group_session_last_error"]=function(){return(_olm_inbound_group_session_last_error=Module["_olm_inbound_group_session_last_error"]=Module["asm"]["$a"]).apply(null,arguments)};var _olm_inbound_group_session_last_error_code=Module["_olm_inbound_group_session_last_error_code"]=function(){return(_olm_inbound_group_session_last_error_code=Module["_olm_inbound_group_session_last_error_code"]=Module["asm"]["ab"]).apply(null,arguments)};var _olm_init_inbound_group_session=Module["_olm_init_inbound_group_session"]=function(){return(_olm_init_inbound_group_session=Module["_olm_init_inbound_group_session"]=Module["asm"]["bb"]).apply(null,arguments)};var _olm_import_inbound_group_session=Module["_olm_import_inbound_group_session"]=function(){return(_olm_import_inbound_group_session=Module["_olm_import_inbound_group_session"]=Module["asm"]["cb"]).apply(null,arguments)};var _olm_pickle_inbound_group_session_length=Module["_olm_pickle_inbound_group_session_length"]=function(){return(_olm_pickle_inbound_group_session_length=Module["_olm_pickle_inbound_group_session_length"]=Module["asm"]["db"]).apply(null,arguments)};var _olm_pickle_inbound_group_session=Module["_olm_pickle_inbound_group_session"]=function(){return(_olm_pickle_inbound_group_session=Module["_olm_pickle_inbound_group_session"]=Module["asm"]["eb"]).apply(null,arguments)};var _olm_unpickle_inbound_group_session=Module["_olm_unpickle_inbound_group_session"]=function(){return(_olm_unpickle_inbound_group_session=Module["_olm_unpickle_inbound_group_session"]=Module["asm"]["fb"]).apply(null,arguments)};var _olm_group_decrypt_max_plaintext_length=Module["_olm_group_decrypt_max_plaintext_length"]=function(){return(_olm_group_decrypt_max_plaintext_length=Module["_olm_group_decrypt_max_plaintext_length"]=Module["asm"]["gb"]).apply(null,arguments)};var _olm_group_decrypt=Module["_olm_group_decrypt"]=function(){return(_olm_group_decrypt=Module["_olm_group_decrypt"]=Module["asm"]["hb"]).apply(null,arguments)};var _olm_inbound_group_session_id_length=Module["_olm_inbound_group_session_id_length"]=function(){return(_olm_inbound_group_session_id_length=Module["_olm_inbound_group_session_id_length"]=Module["asm"]["ib"]).apply(null,arguments)};var _olm_inbound_group_session_id=Module["_olm_inbound_group_session_id"]=function(){return(_olm_inbound_group_session_id=Module["_olm_inbound_group_session_id"]=Module["asm"]["jb"]).apply(null,arguments)};var _olm_inbound_group_session_first_known_index=Module["_olm_inbound_group_session_first_known_index"]=function(){return(_olm_inbound_group_session_first_known_index=Module["_olm_inbound_group_session_first_known_index"]=Module["asm"]["kb"]).apply(null,arguments)};var _olm_inbound_group_session_is_verified=Module["_olm_inbound_group_session_is_verified"]=function(){return(_olm_inbound_group_session_is_verified=Module["_olm_inbound_group_session_is_verified"]=Module["asm"]["lb"]).apply(null,arguments)};var _olm_export_inbound_group_session_length=Module["_olm_export_inbound_group_session_length"]=function(){return(_olm_export_inbound_group_session_length=Module["_olm_export_inbound_group_session_length"]=Module["asm"]["mb"]).apply(null,arguments)};var _olm_export_inbound_group_session=Module["_olm_export_inbound_group_session"]=function(){return(_olm_export_inbound_group_session=Module["_olm_export_inbound_group_session"]=Module["asm"]["nb"]).apply(null,arguments)};var _olm_outbound_group_session_size=Module["_olm_outbound_group_session_size"]=function(){return(_olm_outbound_group_session_size=Module["_olm_outbound_group_session_size"]=Module["asm"]["ob"]).apply(null,arguments)};var _olm_outbound_group_session=Module["_olm_outbound_group_session"]=function(){return(_olm_outbound_group_session=Module["_olm_outbound_group_session"]=Module["asm"]["pb"]).apply(null,arguments)};var _olm_clear_outbound_group_session=Module["_olm_clear_outbound_group_session"]=function(){return(_olm_clear_outbound_group_session=Module["_olm_clear_outbound_group_session"]=Module["asm"]["qb"]).apply(null,arguments)};var _olm_outbound_group_session_last_error=Module["_olm_outbound_group_session_last_error"]=function(){return(_olm_outbound_group_session_last_error=Module["_olm_outbound_group_session_last_error"]=Module["asm"]["rb"]).apply(null,arguments)};var _olm_outbound_group_session_last_error_code=Module["_olm_outbound_group_session_last_error_code"]=function(){return(_olm_outbound_group_session_last_error_code=Module["_olm_outbound_group_session_last_error_code"]=Module["asm"]["sb"]).apply(null,arguments)};var _olm_pickle_outbound_group_session_length=Module["_olm_pickle_outbound_group_session_length"]=function(){return(_olm_pickle_outbound_group_session_length=Module["_olm_pickle_outbound_group_session_length"]=Module["asm"]["tb"]).apply(null,arguments)};var _olm_pickle_outbound_group_session=Module["_olm_pickle_outbound_group_session"]=function(){return(_olm_pickle_outbound_group_session=Module["_olm_pickle_outbound_group_session"]=Module["asm"]["ub"]).apply(null,arguments)};var _olm_unpickle_outbound_group_session=Module["_olm_unpickle_outbound_group_session"]=function(){return(_olm_unpickle_outbound_group_session=Module["_olm_unpickle_outbound_group_session"]=Module["asm"]["vb"]).apply(null,arguments)};var _olm_init_outbound_group_session_random_length=Module["_olm_init_outbound_group_session_random_length"]=function(){return(_olm_init_outbound_group_session_random_length=Module["_olm_init_outbound_group_session_random_length"]=Module["asm"]["wb"]).apply(null,arguments)};var _olm_init_outbound_group_session=Module["_olm_init_outbound_group_session"]=function(){return(_olm_init_outbound_group_session=Module["_olm_init_outbound_group_session"]=Module["asm"]["xb"]).apply(null,arguments)};var _olm_group_encrypt_message_length=Module["_olm_group_encrypt_message_length"]=function(){return(_olm_group_encrypt_message_length=Module["_olm_group_encrypt_message_length"]=Module["asm"]["yb"]).apply(null,arguments)};var _olm_group_encrypt=Module["_olm_group_encrypt"]=function(){return(_olm_group_encrypt=Module["_olm_group_encrypt"]=Module["asm"]["zb"]).apply(null,arguments)};var _olm_outbound_group_session_id_length=Module["_olm_outbound_group_session_id_length"]=function(){return(_olm_outbound_group_session_id_length=Module["_olm_outbound_group_session_id_length"]=Module["asm"]["Ab"]).apply(null,arguments)};var _olm_outbound_group_session_id=Module["_olm_outbound_group_session_id"]=function(){return(_olm_outbound_group_session_id=Module["_olm_outbound_group_session_id"]=Module["asm"]["Bb"]).apply(null,arguments)};var _olm_outbound_group_session_message_index=Module["_olm_outbound_group_session_message_index"]=function(){return(_olm_outbound_group_session_message_index=Module["_olm_outbound_group_session_message_index"]=Module["asm"]["Cb"]).apply(null,arguments)};var _olm_outbound_group_session_key_length=Module["_olm_outbound_group_session_key_length"]=function(){return(_olm_outbound_group_session_key_length=Module["_olm_outbound_group_session_key_length"]=Module["asm"]["Db"]).apply(null,arguments)};var _olm_outbound_group_session_key=Module["_olm_outbound_group_session_key"]=function(){return(_olm_outbound_group_session_key=Module["_olm_outbound_group_session_key"]=Module["asm"]["Eb"]).apply(null,arguments)};var _olm_sas_last_error=Module["_olm_sas_last_error"]=function(){return(_olm_sas_last_error=Module["_olm_sas_last_error"]=Module["asm"]["Fb"]).apply(null,arguments)};var _olm_sas_last_error_code=Module["_olm_sas_last_error_code"]=function(){return(_olm_sas_last_error_code=Module["_olm_sas_last_error_code"]=Module["asm"]["Gb"]).apply(null,arguments)};var _olm_sas_size=Module["_olm_sas_size"]=function(){return(_olm_sas_size=Module["_olm_sas_size"]=Module["asm"]["Hb"]).apply(null,arguments)};var _olm_sas=Module["_olm_sas"]=function(){return(_olm_sas=Module["_olm_sas"]=Module["asm"]["Ib"]).apply(null,arguments)};var _olm_clear_sas=Module["_olm_clear_sas"]=function(){return(_olm_clear_sas=Module["_olm_clear_sas"]=Module["asm"]["Jb"]).apply(null,arguments)};var _olm_create_sas_random_length=Module["_olm_create_sas_random_length"]=function(){return(_olm_create_sas_random_length=Module["_olm_create_sas_random_length"]=Module["asm"]["Kb"]).apply(null,arguments)};var _olm_create_sas=Module["_olm_create_sas"]=function(){return(_olm_create_sas=Module["_olm_create_sas"]=Module["asm"]["Lb"]).apply(null,arguments)};var _olm_sas_pubkey_length=Module["_olm_sas_pubkey_length"]=function(){return(_olm_sas_pubkey_length=Module["_olm_sas_pubkey_length"]=Module["asm"]["Mb"]).apply(null,arguments)};var _olm_sas_get_pubkey=Module["_olm_sas_get_pubkey"]=function(){return(_olm_sas_get_pubkey=Module["_olm_sas_get_pubkey"]=Module["asm"]["Nb"]).apply(null,arguments)};var _olm_sas_set_their_key=Module["_olm_sas_set_their_key"]=function(){return(_olm_sas_set_their_key=Module["_olm_sas_set_their_key"]=Module["asm"]["Ob"]).apply(null,arguments)};var _olm_sas_is_their_key_set=Module["_olm_sas_is_their_key_set"]=function(){return(_olm_sas_is_their_key_set=Module["_olm_sas_is_their_key_set"]=Module["asm"]["Pb"]).apply(null,arguments)};var _olm_sas_generate_bytes=Module["_olm_sas_generate_bytes"]=function(){return(_olm_sas_generate_bytes=Module["_olm_sas_generate_bytes"]=Module["asm"]["Qb"]).apply(null,arguments)};var _olm_sas_mac_length=Module["_olm_sas_mac_length"]=function(){return(_olm_sas_mac_length=Module["_olm_sas_mac_length"]=Module["asm"]["Rb"]).apply(null,arguments)};var _olm_sas_calculate_mac_fixed_base64=Module["_olm_sas_calculate_mac_fixed_base64"]=function(){return(_olm_sas_calculate_mac_fixed_base64=Module["_olm_sas_calculate_mac_fixed_base64"]=Module["asm"]["Sb"]).apply(null,arguments)};var _olm_sas_calculate_mac=Module["_olm_sas_calculate_mac"]=function(){return(_olm_sas_calculate_mac=Module["_olm_sas_calculate_mac"]=Module["asm"]["Tb"]).apply(null,arguments)};var _olm_sas_calculate_mac_long_kdf=Module["_olm_sas_calculate_mac_long_kdf"]=function(){return(_olm_sas_calculate_mac_long_kdf=Module["_olm_sas_calculate_mac_long_kdf"]=Module["asm"]["Ub"]).apply(null,arguments)};var _malloc=Module["_malloc"]=function(){return(_malloc=Module["_malloc"]=Module["asm"]["Vb"]).apply(null,arguments)};var _free=Module["_free"]=function(){return(_free=Module["_free"]=Module["asm"]["Wb"]).apply(null,arguments)};var stackSave=Module["stackSave"]=function(){return(stackSave=Module["stackSave"]=Module["asm"]["Xb"]).apply(null,arguments)};var stackRestore=Module["stackRestore"]=function(){return(stackRestore=Module["stackRestore"]=Module["asm"]["Yb"]).apply(null,arguments)};var stackAlloc=Module["stackAlloc"]=function(){return(stackAlloc=Module["stackAlloc"]=Module["asm"]["Zb"]).apply(null,arguments)};Module["ALLOC_STACK"]=ALLOC_STACK;var calledRun;function ExitStatus(status){this.name="ExitStatus";this.message="Program terminated with exit("+status+")";this.status=status}dependenciesFulfilled=function runCaller(){if(!calledRun)run();if(!calledRun)dependenciesFulfilled=runCaller};function run(args){args=args||arguments_;if(runDependencies>0){return}preRun();if(runDependencies>0){return}function doRun(){if(calledRun)return;calledRun=true;Module["calledRun"]=true;if(ABORT)return;initRuntime();readyPromiseResolve(Module);if(Module["onRuntimeInitialized"])Module["onRuntimeInitialized"]();postRun()}if(Module["setStatus"]){Module["setStatus"]("Running...");setTimeout(function(){setTimeout(function(){Module["setStatus"]("")},1);doRun()},1)}else{doRun()}}Module["run"]=run;if(Module["preInit"]){if(typeof Module["preInit"]=="function")Module["preInit"]=[Module["preInit"]];while(Module["preInit"].length>0){Module["preInit"].pop()()}}run();function OutboundGroupSession(){var size=Module["_olm_outbound_group_session_size"]();this.buf=malloc(size);this.ptr=Module["_olm_outbound_group_session"](this.buf)}function outbound_group_session_method(wrapped){return function(){var result=wrapped.apply(this,arguments);if(result===OLM_ERROR){var message=UTF8ToString(Module["_olm_outbound_group_session_last_error"](arguments[0]));throw new Error("OLM."+message)}return result}}OutboundGroupSession.prototype["free"]=function(){Module["_olm_clear_outbound_group_session"](this.ptr);free(this.ptr)};OutboundGroupSession.prototype["pickle"]=restore_stack(function(key){var key_array=array_from_string(key);var pickle_length=outbound_group_session_method(Module["_olm_pickle_outbound_group_session_length"])(this.ptr);var key_buffer=stack(key_array);var pickle_buffer=stack(pickle_length+NULL_BYTE_PADDING_LENGTH);try{outbound_group_session_method(Module["_olm_pickle_outbound_group_session"])(this.ptr,key_buffer,key_array.length,pickle_buffer,pickle_length)}finally{bzero(key_buffer,key_array.length);for(var i=0;i<key_array.length;i++){key_array[i]=0}}return UTF8ToString(pickle_buffer,pickle_length)});OutboundGroupSession.prototype["unpickle"]=restore_stack(function(key,pickle){var key_array=array_from_string(key);var key_buffer=stack(key_array);var pickle_array=array_from_string(pickle);var pickle_buffer=stack(pickle_array);try{outbound_group_session_method(Module["_olm_unpickle_outbound_group_session"])(this.ptr,key_buffer,key_array.length,pickle_buffer,pickle_array.length)}finally{bzero(key_buffer,key_array.length);for(var i=0;i<key_array.length;i++){key_array[i]=0}}});OutboundGroupSession.prototype["create"]=restore_stack(function(){var random_length=outbound_group_session_method(Module["_olm_init_outbound_group_session_random_length"])(this.ptr);var random=random_stack(random_length);try{outbound_group_session_method(Module["_olm_init_outbound_group_session"])(this.ptr,random,random_length)}finally{bzero(random,random_length)}});OutboundGroupSession.prototype["encrypt"]=function(plaintext){var plaintext_buffer,message_buffer,plaintext_length;try{plaintext_length=lengthBytesUTF8(plaintext);var message_length=outbound_group_session_method(Module["_olm_group_encrypt_message_length"])(this.ptr,plaintext_length);plaintext_buffer=malloc(plaintext_length+1);stringToUTF8(plaintext,plaintext_buffer,plaintext_length+1);message_buffer=malloc(message_length+NULL_BYTE_PADDING_LENGTH);outbound_group_session_method(Module["_olm_group_encrypt"])(this.ptr,plaintext_buffer,plaintext_length,message_buffer,message_length);setValue(message_buffer+message_length,0,"i8");return UTF8ToString(message_buffer,message_length)}finally{if(plaintext_buffer!==undefined){bzero(plaintext_buffer,plaintext_length+1);free(plaintext_buffer)}if(message_buffer!==undefined){free(message_buffer)}}};OutboundGroupSession.prototype["session_id"]=restore_stack(function(){var length=outbound_group_session_method(Module["_olm_outbound_group_session_id_length"])(this.ptr);var session_id=stack(length+NULL_BYTE_PADDING_LENGTH);outbound_group_session_method(Module["_olm_outbound_group_session_id"])(this.ptr,session_id,length);return UTF8ToString(session_id,length)});OutboundGroupSession.prototype["session_key"]=restore_stack(function(){var key_length=outbound_group_session_method(Module["_olm_outbound_group_session_key_length"])(this.ptr);var key=stack(key_length+NULL_BYTE_PADDING_LENGTH);outbound_group_session_method(Module["_olm_outbound_group_session_key"])(this.ptr,key,key_length);var key_str=UTF8ToString(key,key_length);bzero(key,key_length);return key_str});OutboundGroupSession.prototype["message_index"]=function(){var idx=outbound_group_session_method(Module["_olm_outbound_group_session_message_index"])(this.ptr);return idx};olm_exports["OutboundGroupSession"]=OutboundGroupSession;function InboundGroupSession(){var size=Module["_olm_inbound_group_session_size"]();this.buf=malloc(size);this.ptr=Module["_olm_inbound_group_session"](this.buf)}function inbound_group_session_method(wrapped){return function(){var result=wrapped.apply(this,arguments);if(result===OLM_ERROR){var message=UTF8ToString(Module["_olm_inbound_group_session_last_error"](arguments[0]));throw new Error("OLM."+message)}return result}}InboundGroupSession.prototype["free"]=function(){Module["_olm_clear_inbound_group_session"](this.ptr);free(this.ptr)};InboundGroupSession.prototype["pickle"]=restore_stack(function(key){var key_array=array_from_string(key);var pickle_length=inbound_group_session_method(Module["_olm_pickle_inbound_group_session_length"])(this.ptr);var key_buffer=stack(key_array);var pickle_buffer=stack(pickle_length+NULL_BYTE_PADDING_LENGTH);try{inbound_group_session_method(Module["_olm_pickle_inbound_group_session"])(this.ptr,key_buffer,key_array.length,pickle_buffer,pickle_length)}finally{bzero(key_buffer,key_array.length);for(var i=0;i<key_array.length;i++){key_array[i]=0}}return UTF8ToString(pickle_buffer,pickle_length)});InboundGroupSession.prototype["unpickle"]=restore_stack(function(key,pickle){var key_array=array_from_string(key);var key_buffer=stack(key_array);var pickle_array=array_from_string(pickle);var pickle_buffer=stack(pickle_array);try{inbound_group_session_method(Module["_olm_unpickle_inbound_group_session"])(this.ptr,key_buffer,key_array.length,pickle_buffer,pickle_array.length)}finally{bzero(key_buffer,key_array.length);for(var i=0;i<key_array.length;i++){key_array[i]=0}}});InboundGroupSession.prototype["create"]=restore_stack(function(session_key){var key_array=array_from_string(session_key);var key_buffer=stack(key_array);try{inbound_group_session_method(Module["_olm_init_inbound_group_session"])(this.ptr,key_buffer,key_array.length)}finally{bzero(key_buffer,key_array.length);for(var i=0;i<key_array.length;i++){key_array[i]=0}}});InboundGroupSession.prototype["import_session"]=restore_stack(function(session_key){var key_array=array_from_string(session_key);var key_buffer=stack(key_array);try{inbound_group_session_method(Module["_olm_import_inbound_group_session"])(this.ptr,key_buffer,key_array.length)}finally{bzero(key_buffer,key_array.length);for(var i=0;i<key_array.length;i++){key_array[i]=0}}});InboundGroupSession.prototype["decrypt"]=restore_stack(function(message){var message_buffer,plaintext_buffer,plaintext_length;try{message_buffer=malloc(message.length);writeAsciiToMemory(message,message_buffer,true);var max_plaintext_length=inbound_group_session_method(Module["_olm_group_decrypt_max_plaintext_length"])(this.ptr,message_buffer,message.length);writeAsciiToMemory(message,message_buffer,true);plaintext_buffer=malloc(max_plaintext_length+NULL_BYTE_PADDING_LENGTH);var message_index=stack(4);plaintext_length=inbound_group_session_method(Module["_olm_group_decrypt"])(this.ptr,message_buffer,message.length,plaintext_buffer,max_plaintext_length,message_index);setValue(plaintext_buffer+plaintext_length,0,"i8");return{"plaintext":UTF8ToString(plaintext_buffer,plaintext_length),"message_index":getValue(message_index,"i32")}}finally{if(message_buffer!==undefined){free(message_buffer)}if(plaintext_buffer!==undefined){bzero(plaintext_buffer,plaintext_length);free(plaintext_buffer)}}});InboundGroupSession.prototype["session_id"]=restore_stack(function(){var length=inbound_group_session_method(Module["_olm_inbound_group_session_id_length"])(this.ptr);var session_id=stack(length+NULL_BYTE_PADDING_LENGTH);inbound_group_session_method(Module["_olm_inbound_group_session_id"])(this.ptr,session_id,length);return UTF8ToString(session_id,length)});InboundGroupSession.prototype["first_known_index"]=restore_stack(function(){return inbound_group_session_method(Module["_olm_inbound_group_session_first_known_index"])(this.ptr)});InboundGroupSession.prototype["export_session"]=restore_stack(function(message_index){var key_length=inbound_group_session_method(Module["_olm_export_inbound_group_session_length"])(this.ptr);var key=stack(key_length+NULL_BYTE_PADDING_LENGTH);outbound_group_session_method(Module["_olm_export_inbound_group_session"])(this.ptr,key,key_length,message_index);var key_str=UTF8ToString(key,key_length);bzero(key,key_length);return key_str});olm_exports["InboundGroupSession"]=InboundGroupSession;function PkEncryption(){var size=Module["_olm_pk_encryption_size"]();this.buf=malloc(size);this.ptr=Module["_olm_pk_encryption"](this.buf)}function pk_encryption_method(wrapped){return function(){var result=wrapped.apply(this,arguments);if(result===OLM_ERROR){var message=UTF8ToString(Module["_olm_pk_encryption_last_error"](arguments[0]));throw new Error("OLM."+message)}return result}}PkEncryption.prototype["free"]=function(){Module["_olm_clear_pk_encryption"](this.ptr);free(this.ptr)};PkEncryption.prototype["set_recipient_key"]=restore_stack(function(key){var key_array=array_from_string(key);var key_buffer=stack(key_array);pk_encryption_method(Module["_olm_pk_encryption_set_recipient_key"])(this.ptr,key_buffer,key_array.length)});PkEncryption.prototype["encrypt"]=restore_stack(function(plaintext){var plaintext_buffer,ciphertext_buffer,plaintext_length,random,random_length;try{plaintext_length=lengthBytesUTF8(plaintext);plaintext_buffer=malloc(plaintext_length+1);stringToUTF8(plaintext,plaintext_buffer,plaintext_length+1);random_length=pk_encryption_method(Module["_olm_pk_encrypt_random_length"])();random=random_stack(random_length);var ciphertext_length=pk_encryption_method(Module["_olm_pk_ciphertext_length"])(this.ptr,plaintext_length);ciphertext_buffer=malloc(ciphertext_length+NULL_BYTE_PADDING_LENGTH);var mac_length=pk_encryption_method(Module["_olm_pk_mac_length"])(this.ptr);var mac_buffer=stack(mac_length+NULL_BYTE_PADDING_LENGTH);setValue(mac_buffer+mac_length,0,"i8");var ephemeral_length=pk_encryption_method(Module["_olm_pk_key_length"])();var ephemeral_buffer=stack(ephemeral_length+NULL_BYTE_PADDING_LENGTH);setValue(ephemeral_buffer+ephemeral_length,0,"i8");pk_encryption_method(Module["_olm_pk_encrypt"])(this.ptr,plaintext_buffer,plaintext_length,ciphertext_buffer,ciphertext_length,mac_buffer,mac_length,ephemeral_buffer,ephemeral_length,random,random_length);setValue(ciphertext_buffer+ciphertext_length,0,"i8");return{"ciphertext":UTF8ToString(ciphertext_buffer,ciphertext_length),"mac":UTF8ToString(mac_buffer,mac_length),"ephemeral":UTF8ToString(ephemeral_buffer,ephemeral_length)}}finally{if(random!==undefined){bzero(random,random_length)}if(plaintext_buffer!==undefined){bzero(plaintext_buffer,plaintext_length+1);free(plaintext_buffer)}if(ciphertext_buffer!==undefined){free(ciphertext_buffer)}}});function PkDecryption(){var size=Module["_olm_pk_decryption_size"]();this.buf=malloc(size);this.ptr=Module["_olm_pk_decryption"](this.buf)}function pk_decryption_method(wrapped){return function(){var result=wrapped.apply(this,arguments);if(result===OLM_ERROR){var message=UTF8ToString(Module["_olm_pk_decryption_last_error"](arguments[0]));throw new Error("OLM."+message)}return result}}PkDecryption.prototype["free"]=function(){Module["_olm_clear_pk_decryption"](this.ptr);free(this.ptr)};PkDecryption.prototype["init_with_private_key"]=restore_stack(function(private_key){var private_key_buffer=stack(private_key.length);Module["HEAPU8"].set(private_key,private_key_buffer);var pubkey_length=pk_decryption_method(Module["_olm_pk_key_length"])();var pubkey_buffer=stack(pubkey_length+NULL_BYTE_PADDING_LENGTH);try{pk_decryption_method(Module["_olm_pk_key_from_private"])(this.ptr,pubkey_buffer,pubkey_length,private_key_buffer,private_key.length)}finally{bzero(private_key_buffer,private_key.length)}return UTF8ToString(pubkey_buffer,pubkey_length)});PkDecryption.prototype["generate_key"]=restore_stack(function(){var random_length=pk_decryption_method(Module["_olm_pk_private_key_length"])();var random_buffer=random_stack(random_length);var pubkey_length=pk_decryption_method(Module["_olm_pk_key_length"])();var pubkey_buffer=stack(pubkey_length+NULL_BYTE_PADDING_LENGTH);try{pk_decryption_method(Module["_olm_pk_key_from_private"])(this.ptr,pubkey_buffer,pubkey_length,random_buffer,random_length)}finally{bzero(random_buffer,random_length)}return UTF8ToString(pubkey_buffer,pubkey_length)});PkDecryption.prototype["get_private_key"]=restore_stack(function(){var privkey_length=pk_encryption_method(Module["_olm_pk_private_key_length"])();var privkey_buffer=stack(privkey_length);pk_decryption_method(Module["_olm_pk_get_private_key"])(this.ptr,privkey_buffer,privkey_length);var key_arr=new Uint8Array(new Uint8Array(Module["HEAPU8"].buffer,privkey_buffer,privkey_length));bzero(privkey_buffer,privkey_length);return key_arr});PkDecryption.prototype["pickle"]=restore_stack(function(key){var key_array=array_from_string(key);var pickle_length=pk_decryption_method(Module["_olm_pickle_pk_decryption_length"])(this.ptr);var key_buffer=stack(key_array);var pickle_buffer=stack(pickle_length+NULL_BYTE_PADDING_LENGTH);try{pk_decryption_method(Module["_olm_pickle_pk_decryption"])(this.ptr,key_buffer,key_array.length,pickle_buffer,pickle_length)}finally{bzero(key_buffer,key_array.length);for(var i=0;i<key_array.length;i++){key_array[i]=0}}return UTF8ToString(pickle_buffer,pickle_length)});PkDecryption.prototype["unpickle"]=restore_stack(function(key,pickle){var key_array=array_from_string(key);var key_buffer=stack(key_array);var pickle_array=array_from_string(pickle);var pickle_buffer=stack(pickle_array);var ephemeral_length=pk_decryption_method(Module["_olm_pk_key_length"])();var ephemeral_buffer=stack(ephemeral_length+NULL_BYTE_PADDING_LENGTH);try{pk_decryption_method(Module["_olm_unpickle_pk_decryption"])(this.ptr,key_buffer,key_array.length,pickle_buffer,pickle_array.length,ephemeral_buffer,ephemeral_length)}finally{bzero(key_buffer,key_array.length);for(var i=0;i<key_array.length;i++){key_array[i]=0}}return UTF8ToString(ephemeral_buffer,ephemeral_length)});PkDecryption.prototype["decrypt"]=restore_stack(function(ephemeral_key,mac,ciphertext){var plaintext_buffer,ciphertext_buffer,plaintext_max_length;try{var ciphertext_length=lengthBytesUTF8(ciphertext);ciphertext_buffer=malloc(ciphertext_length+1);stringToUTF8(ciphertext,ciphertext_buffer,ciphertext_length+1);var ephemeralkey_array=array_from_string(ephemeral_key);var ephemeralkey_buffer=stack(ephemeralkey_array);var mac_array=array_from_string(mac);var mac_buffer=stack(mac_array);plaintext_max_length=pk_decryption_method(Module["_olm_pk_max_plaintext_length"])(this.ptr,ciphertext_length);plaintext_buffer=malloc(plaintext_max_length+NULL_BYTE_PADDING_LENGTH);var plaintext_length=pk_decryption_method(Module["_olm_pk_decrypt"])(this.ptr,ephemeralkey_buffer,ephemeralkey_array.length,mac_buffer,mac_array.length,ciphertext_buffer,ciphertext_length,plaintext_buffer,plaintext_max_length);setValue(plaintext_buffer+plaintext_length,0,"i8");return UTF8ToString(plaintext_buffer,plaintext_length)}finally{if(plaintext_buffer!==undefined){bzero(plaintext_buffer,plaintext_length+1);free(plaintext_buffer)}if(ciphertext_buffer!==undefined){free(ciphertext_buffer)}}});function PkSigning(){var size=Module["_olm_pk_signing_size"]();this.buf=malloc(size);this.ptr=Module["_olm_pk_signing"](this.buf)}function pk_signing_method(wrapped){return function(){var result=wrapped.apply(this,arguments);if(result===OLM_ERROR){var message=UTF8ToString(Module["_olm_pk_signing_last_error"](arguments[0]));throw new Error("OLM."+message)}return result}}PkSigning.prototype["free"]=function(){Module["_olm_clear_pk_signing"](this.ptr);free(this.ptr)};PkSigning.prototype["init_with_seed"]=restore_stack(function(seed){var seed_buffer=stack(seed.length);Module["HEAPU8"].set(seed,seed_buffer);var pubkey_length=pk_signing_method(Module["_olm_pk_signing_public_key_length"])();var pubkey_buffer=stack(pubkey_length+NULL_BYTE_PADDING_LENGTH);try{pk_signing_method(Module["_olm_pk_signing_key_from_seed"])(this.ptr,pubkey_buffer,pubkey_length,seed_buffer,seed.length)}finally{bzero(seed_buffer,seed.length)}return UTF8ToString(pubkey_buffer,pubkey_length)});PkSigning.prototype["generate_seed"]=restore_stack(function(){var random_length=pk_signing_method(Module["_olm_pk_signing_seed_length"])();var random_buffer=random_stack(random_length);var key_arr=new Uint8Array(new Uint8Array(Module["HEAPU8"].buffer,random_buffer,random_length));bzero(random_buffer,random_length);return key_arr});PkSigning.prototype["sign"]=restore_stack(function(message){var message_buffer,message_length;try{message_length=lengthBytesUTF8(message);message_buffer=malloc(message_length+1);stringToUTF8(message,message_buffer,message_length+1);var sig_length=pk_signing_method(Module["_olm_pk_signature_length"])();var sig_buffer=stack(sig_length+NULL_BYTE_PADDING_LENGTH);pk_signing_method(Module["_olm_pk_sign"])(this.ptr,message_buffer,message_length,sig_buffer,sig_length);return UTF8ToString(sig_buffer,sig_length)}finally{if(message_buffer!==undefined){bzero(message_buffer,message_length+1);free(message_buffer)}}});function SAS(){var size=Module["_olm_sas_size"]();var random_length=Module["_olm_create_sas_random_length"]();var random=random_stack(random_length);this.buf=malloc(size);this.ptr=Module["_olm_sas"](this.buf);Module["_olm_create_sas"](this.ptr,random,random_length);bzero(random,random_length)}function sas_method(wrapped){return function(){var result=wrapped.apply(this,arguments);if(result===OLM_ERROR){var message=UTF8ToString(Module["_olm_sas_last_error"](arguments[0]));throw new Error("OLM."+message)}return result}}SAS.prototype["free"]=function(){Module["_olm_clear_sas"](this.ptr);free(this.ptr)};SAS.prototype["get_pubkey"]=restore_stack(function(){var pubkey_length=sas_method(Module["_olm_sas_pubkey_length"])(this.ptr);var pubkey_buffer=stack(pubkey_length+NULL_BYTE_PADDING_LENGTH);sas_method(Module["_olm_sas_get_pubkey"])(this.ptr,pubkey_buffer,pubkey_length);return UTF8ToString(pubkey_buffer,pubkey_length)});SAS.prototype["set_their_key"]=restore_stack(function(their_key){var their_key_array=array_from_string(their_key);var their_key_buffer=stack(their_key_array);sas_method(Module["_olm_sas_set_their_key"])(this.ptr,their_key_buffer,their_key_array.length)});SAS.prototype["is_their_key_set"]=restore_stack(function(){return sas_method(Module["_olm_sas_is_their_key_set"])(this.ptr)?true:false});SAS.prototype["generate_bytes"]=restore_stack(function(info,length){var info_array=array_from_string(info);var info_buffer=stack(info_array);var output_buffer=stack(length);sas_method(Module["_olm_sas_generate_bytes"])(this.ptr,info_buffer,info_array.length,output_buffer,length);var output_arr=new Uint8Array(new Uint8Array(Module["HEAPU8"].buffer,output_buffer,length));return output_arr});SAS.prototype["calculate_mac"]=restore_stack(function(input,info){var input_array=array_from_string(input);var input_buffer=stack(input_array);var info_array=array_from_string(info);var info_buffer=stack(info_array);var mac_length=sas_method(Module["_olm_sas_mac_length"])(this.ptr);var mac_buffer=stack(mac_length+NULL_BYTE_PADDING_LENGTH);sas_method(Module["_olm_sas_calculate_mac"])(this.ptr,input_buffer,input_array.length,info_buffer,info_array.length,mac_buffer,mac_length);return UTF8ToString(mac_buffer,mac_length)});SAS.prototype["calculate_mac_fixed_base64"]=restore_stack(function(input,info){var input_array=array_from_string(input);var input_buffer=stack(input_array);var info_array=array_from_string(info);var info_buffer=stack(info_array);var mac_length=sas_method(Module["_olm_sas_mac_length"])(this.ptr);var mac_buffer=stack(mac_length+NULL_BYTE_PADDING_LENGTH);sas_method(Module["_olm_sas_calculate_mac_fixed_base64"])(this.ptr,input_buffer,input_array.length,info_buffer,info_array.length,mac_buffer,mac_length);return UTF8ToString(mac_buffer,mac_length)});SAS.prototype["calculate_mac_long_kdf"]=restore_stack(function(input,info){var input_array=array_from_string(input);var input_buffer=stack(input_array);var info_array=array_from_string(info);var info_buffer=stack(info_array);var mac_length=sas_method(Module["_olm_sas_mac_length"])(this.ptr);var mac_buffer=stack(mac_length+NULL_BYTE_PADDING_LENGTH);sas_method(Module["_olm_sas_calculate_mac_long_kdf"])(this.ptr,input_buffer,input_array.length,info_buffer,info_array.length,mac_buffer,mac_length);return UTF8ToString(mac_buffer,mac_length)});var malloc=Module["_malloc"];var free=Module["_free"];var OLM_ERROR;function filled_stack(size,filler){var ptr=stackAlloc(size);filler(new Uint8Array(Module["HEAPU8"].buffer,ptr,size));return ptr}function stack(size_or_array){return typeof size_or_array=="number"?filled_stack(size_or_array,function(x){x.fill(0)}):filled_stack(size_or_array.length,function(x){x.set(size_or_array)})}function array_from_string(string){return string instanceof Uint8Array?string:intArrayFromString(string,true)}function random_stack(size){return filled_stack(size,get_random_values)}function restore_stack(wrapped){return function(){var sp=stackSave();try{return wrapped.apply(this,arguments)}finally{stackRestore(sp)}}}function bzero(ptr,n){while(n-- >0){Module["HEAP8"][ptr++]=0}}function Account(){var size=Module["_olm_account_size"]();this.buf=malloc(size);this.ptr=Module["_olm_account"](this.buf)}function account_method(wrapped){return function(){var result=wrapped.apply(this,arguments);if(result===OLM_ERROR){var message=UTF8ToString(Module["_olm_account_last_error"](arguments[0]));throw new Error("OLM."+message)}return result}}Account.prototype["free"]=function(){Module["_olm_clear_account"](this.ptr);free(this.ptr)};Account.prototype["create"]=restore_stack(function(){var random_length=account_method(Module["_olm_create_account_random_length"])(this.ptr);var random=random_stack(random_length);try{account_method(Module["_olm_create_account"])(this.ptr,random,random_length)}finally{bzero(random,random_length)}});Account.prototype["identity_keys"]=restore_stack(function(){var keys_length=account_method(Module["_olm_account_identity_keys_length"])(this.ptr);var keys=stack(keys_length+NULL_BYTE_PADDING_LENGTH);account_method(Module["_olm_account_identity_keys"])(this.ptr,keys,keys_length);return UTF8ToString(keys,keys_length)});Account.prototype["sign"]=restore_stack(function(message){var signature_length=account_method(Module["_olm_account_signature_length"])(this.ptr);var message_array=array_from_string(message);var message_buffer=stack(message_array);var signature_buffer=stack(signature_length+NULL_BYTE_PADDING_LENGTH);try{account_method(Module["_olm_account_sign"])(this.ptr,message_buffer,message_array.length,signature_buffer,signature_length)}finally{bzero(message_buffer,message_array.length);for(var i=0;i<message_array.length;i++){message_array[i]=0}}return UTF8ToString(signature_buffer,signature_length)});Account.prototype["one_time_keys"]=restore_stack(function(){var keys_length=account_method(Module["_olm_account_one_time_keys_length"])(this.ptr);var keys=stack(keys_length+NULL_BYTE_PADDING_LENGTH);account_method(Module["_olm_account_one_time_keys"])(this.ptr,keys,keys_length);return UTF8ToString(keys,keys_length)});Account.prototype["mark_keys_as_published"]=restore_stack(function(){account_method(Module["_olm_account_mark_keys_as_published"])(this.ptr)});Account.prototype["max_number_of_one_time_keys"]=restore_stack(function(){return account_method(Module["_olm_account_max_number_of_one_time_keys"])(this.ptr)});Account.prototype["generate_one_time_keys"]=restore_stack(function(number_of_keys){var random_length=account_method(Module["_olm_account_generate_one_time_keys_random_length"])(this.ptr,number_of_keys);var random=random_stack(random_length);try{account_method(Module["_olm_account_generate_one_time_keys"])(this.ptr,number_of_keys,random,random_length)}finally{bzero(random,random_length)}});Account.prototype["remove_one_time_keys"]=restore_stack(function(session){account_method(Module["_olm_remove_one_time_keys"])(this.ptr,session.ptr)});Account.prototype["generate_fallback_key"]=restore_stack(function(){var random_length=account_method(Module["_olm_account_generate_fallback_key_random_length"])(this.ptr);var random=random_stack(random_length);try{account_method(Module["_olm_account_generate_fallback_key"])(this.ptr,random,random_length)}finally{bzero(random,random_length)}});Account.prototype["fallback_key"]=restore_stack(function(){var keys_length=account_method(Module["_olm_account_fallback_key_length"])(this.ptr);var keys=stack(keys_length+NULL_BYTE_PADDING_LENGTH);account_method(Module["_olm_account_fallback_key"])(this.ptr,keys,keys_length);return UTF8ToString(keys,keys_length)});Account.prototype["unpublished_fallback_key"]=restore_stack(function(){var keys_length=account_method(Module["_olm_account_unpublished_fallback_key_length"])(this.ptr);var keys=stack(keys_length+NULL_BYTE_PADDING_LENGTH);account_method(Module["_olm_account_unpublished_fallback_key"])(this.ptr,keys,keys_length);return UTF8ToString(keys,keys_length)});Account.prototype["forget_old_fallback_key"]=restore_stack(function(){account_method(Module["_olm_account_forget_old_fallback_key"])(this.ptr)});Account.prototype["pickle"]=restore_stack(function(key){var key_array=array_from_string(key);var pickle_length=account_method(Module["_olm_pickle_account_length"])(this.ptr);var key_buffer=stack(key_array);var pickle_buffer=stack(pickle_length+NULL_BYTE_PADDING_LENGTH);try{account_method(Module["_olm_pickle_account"])(this.ptr,key_buffer,key_array.length,pickle_buffer,pickle_length)}finally{bzero(key_buffer,key_array.length);for(var i=0;i<key_array.length;i++){key_array[i]=0}}return UTF8ToString(pickle_buffer,pickle_length)});Account.prototype["unpickle"]=restore_stack(function(key,pickle){var key_array=array_from_string(key);var key_buffer=stack(key_array);var pickle_array=array_from_string(pickle);var pickle_buffer=stack(pickle_array);try{account_method(Module["_olm_unpickle_account"])(this.ptr,key_buffer,key_array.length,pickle_buffer,pickle_array.length)}finally{bzero(key_buffer,key_array.length);for(var i=0;i<key_array.length;i++){key_array[i]=0}}});function Session(){var size=Module["_olm_session_size"]();this.buf=malloc(size);this.ptr=Module["_olm_session"](this.buf)}function session_method(wrapped){return function(){var result=wrapped.apply(this,arguments);if(result===OLM_ERROR){var message=UTF8ToString(Module["_olm_session_last_error"](arguments[0]));throw new Error("OLM."+message)}return result}}Session.prototype["free"]=function(){Module["_olm_clear_session"](this.ptr);free(this.ptr)};Session.prototype["pickle"]=restore_stack(function(key){var key_array=array_from_string(key);var pickle_length=session_method(Module["_olm_pickle_session_length"])(this.ptr);var key_buffer=stack(key_array);var pickle_buffer=stack(pickle_length+NULL_BYTE_PADDING_LENGTH);try{session_method(Module["_olm_pickle_session"])(this.ptr,key_buffer,key_array.length,pickle_buffer,pickle_length)}finally{bzero(key_buffer,key_array.length);for(var i=0;i<key_array.length;i++){key_array[i]=0}}return UTF8ToString(pickle_buffer,pickle_length)});Session.prototype["unpickle"]=restore_stack(function(key,pickle){var key_array=array_from_string(key);var key_buffer=stack(key_array);var pickle_array=array_from_string(pickle);var pickle_buffer=stack(pickle_array);try{session_method(Module["_olm_unpickle_session"])(this.ptr,key_buffer,key_array.length,pickle_buffer,pickle_array.length)}finally{bzero(key_buffer,key_array.length);for(var i=0;i<key_array.length;i++){key_array[i]=0}}});Session.prototype["create_outbound"]=restore_stack(function(account,their_identity_key,their_one_time_key){var random_length=session_method(Module["_olm_create_outbound_session_random_length"])(this.ptr);var random=random_stack(random_length);var identity_key_array=array_from_string(their_identity_key);var one_time_key_array=array_from_string(their_one_time_key);var identity_key_buffer=stack(identity_key_array);var one_time_key_buffer=stack(one_time_key_array);try{session_method(Module["_olm_create_outbound_session"])(this.ptr,account.ptr,identity_key_buffer,identity_key_array.length,one_time_key_buffer,one_time_key_array.length,random,random_length)}finally{bzero(random,random_length)}});Session.prototype["create_inbound"]=restore_stack(function(account,one_time_key_message){var message_array=array_from_string(one_time_key_message);var message_buffer=stack(message_array);try{session_method(Module["_olm_create_inbound_session"])(this.ptr,account.ptr,message_buffer,message_array.length)}finally{bzero(message_buffer,message_array.length);for(var i=0;i<message_array.length;i++){message_array[i]=0}}});Session.prototype["create_inbound_from"]=restore_stack(function(account,identity_key,one_time_key_message){var identity_key_array=array_from_string(identity_key);var identity_key_buffer=stack(identity_key_array);var message_array=array_from_string(one_time_key_message);var message_buffer=stack(message_array);try{session_method(Module["_olm_create_inbound_session_from"])(this.ptr,account.ptr,identity_key_buffer,identity_key_array.length,message_buffer,message_array.length)}finally{bzero(message_buffer,message_array.length);for(var i=0;i<message_array.length;i++){message_array[i]=0}}});Session.prototype["session_id"]=restore_stack(function(){var id_length=session_method(Module["_olm_session_id_length"])(this.ptr);var id_buffer=stack(id_length+NULL_BYTE_PADDING_LENGTH);session_method(Module["_olm_session_id"])(this.ptr,id_buffer,id_length);return UTF8ToString(id_buffer,id_length)});Session.prototype["has_received_message"]=function(){return session_method(Module["_olm_session_has_received_message"])(this.ptr)?true:false};Session.prototype["matches_inbound"]=restore_stack(function(one_time_key_message){var message_array=array_from_string(one_time_key_message);var message_buffer=stack(message_array);return session_method(Module["_olm_matches_inbound_session"])(this.ptr,message_buffer,message_array.length)?true:false});Session.prototype["matches_inbound_from"]=restore_stack(function(identity_key,one_time_key_message){var identity_key_array=array_from_string(identity_key);var identity_key_buffer=stack(identity_key_array);var message_array=array_from_string(one_time_key_message);var message_buffer=stack(message_array);return session_method(Module["_olm_matches_inbound_session_from"])(this.ptr,identity_key_buffer,identity_key_array.length,message_buffer,message_array.length)?true:false});Session.prototype["encrypt"]=restore_stack(function(plaintext){var plaintext_buffer,message_buffer,plaintext_length,random,random_length;try{random_length=session_method(Module["_olm_encrypt_random_length"])(this.ptr);var message_type=session_method(Module["_olm_encrypt_message_type"])(this.ptr);plaintext_length=lengthBytesUTF8(plaintext);var message_length=session_method(Module["_olm_encrypt_message_length"])(this.ptr,plaintext_length);random=random_stack(random_length);plaintext_buffer=malloc(plaintext_length+1);stringToUTF8(plaintext,plaintext_buffer,plaintext_length+1);message_buffer=malloc(message_length+NULL_BYTE_PADDING_LENGTH);session_method(Module["_olm_encrypt"])(this.ptr,plaintext_buffer,plaintext_length,random,random_length,message_buffer,message_length);setValue(message_buffer+message_length,0,"i8");return{"type":message_type,"body":UTF8ToString(message_buffer,message_length)}}finally{if(random!==undefined){bzero(random,random_length)}if(plaintext_buffer!==undefined){bzero(plaintext_buffer,plaintext_length+1);free(plaintext_buffer)}if(message_buffer!==undefined){free(message_buffer)}}});Session.prototype["decrypt"]=restore_stack(function(message_type,message){var message_buffer,plaintext_buffer,max_plaintext_length;try{message_buffer=malloc(message.length);writeAsciiToMemory(message,message_buffer,true);max_plaintext_length=session_method(Module["_olm_decrypt_max_plaintext_length"])(this.ptr,message_type,message_buffer,message.length);writeAsciiToMemory(message,message_buffer,true);plaintext_buffer=malloc(max_plaintext_length+NULL_BYTE_PADDING_LENGTH);var plaintext_length=session_method(Module["_olm_decrypt"])(this.ptr,message_type,message_buffer,message.length,plaintext_buffer,max_plaintext_length);setValue(plaintext_buffer+plaintext_length,0,"i8");return UTF8ToString(plaintext_buffer,plaintext_length)}finally{if(message_buffer!==undefined){free(message_buffer)}if(plaintext_buffer!==undefined){bzero(plaintext_buffer,max_plaintext_length);free(plaintext_buffer)}}});Session.prototype["describe"]=restore_stack(function(){var description_buf;try{description_buf=malloc(256);session_method(Module["_olm_session_describe"])(this.ptr,description_buf,256);return UTF8ToString(description_buf)}finally{if(description_buf!==undefined)free(description_buf)}});function Utility(){var size=Module["_olm_utility_size"]();this.buf=malloc(size);this.ptr=Module["_olm_utility"](this.buf)}function utility_method(wrapped){return function(){var result=wrapped.apply(this,arguments);if(result===OLM_ERROR){var message=UTF8ToString(Module["_olm_utility_last_error"](arguments[0]));throw new Error("OLM."+message)}return result}}Utility.prototype["free"]=function(){Module["_olm_clear_utility"](this.ptr);free(this.ptr)};Utility.prototype["sha256"]=restore_stack(function(input){var output_length=utility_method(Module["_olm_sha256_length"])(this.ptr);var input_array=array_from_string(input);var input_buffer=stack(input_array);var output_buffer=stack(output_length+NULL_BYTE_PADDING_LENGTH);try{utility_method(Module["_olm_sha256"])(this.ptr,input_buffer,input_array.length,output_buffer,output_length)}finally{bzero(input_buffer,input_array.length);for(var i=0;i<input_array.length;i++){input_array[i]=0}}return UTF8ToString(output_buffer,output_length)});Utility.prototype["ed25519_verify"]=restore_stack(function(key,message,signature){var key_array=array_from_string(key);var key_buffer=stack(key_array);var message_array=array_from_string(message);var message_buffer=stack(message_array);var signature_array=array_from_string(signature);var signature_buffer=stack(signature_array);try{utility_method(Module["_olm_ed25519_verify"])(this.ptr,key_buffer,key_array.length,message_buffer,message_array.length,signature_buffer,signature_array.length)}finally{bzero(message_buffer,message_array.length);for(var i=0;i<message_array.length;i++){message_array[i]=0}}});olm_exports["Account"]=Account;olm_exports["Session"]=Session;olm_exports["Utility"]=Utility;olm_exports["PkEncryption"]=PkEncryption;olm_exports["PkDecryption"]=PkDecryption;olm_exports["PkSigning"]=PkSigning;olm_exports["SAS"]=SAS;olm_exports["get_library_version"]=restore_stack(function(){var buf=stack(3);Module["_olm_get_library_version"](buf,buf+1,buf+2);return[getValue(buf,"i8"),getValue(buf+1,"i8"),getValue(buf+2,"i8")]});


  return Module.ready
}
);
})();
if (typeof exports === 'object' && typeof module === 'object')
  module.exports = Module;
else if (typeof define === 'function' && define['amd'])
  define([], function() { return Module; });
else if (typeof exports === 'object')
  exports["Module"] = Module;
var olmInitPromise;

olm_exports['init'] = function(opts) {
    if (olmInitPromise) return olmInitPromise;

    if (opts) OLM_OPTIONS = opts;

    olmInitPromise = new Promise(function(resolve, reject) {
        onInitSuccess = function() {
            resolve();
        };
        onInitFail = function(err) {
            reject(err);
        };
        Module();
    });
    return olmInitPromise;
};

return olm_exports;

})();

if (typeof(window) !== 'undefined') {
    // We've been imported directly into a browser. Define the global 'Olm' object.
    // (we do this even if module.exports was defined, because it's useful to have
    // Olm in the global scope for browserified and webpacked apps.)
    window["Olm"] = Olm;
}

if (typeof module === 'object') {
    // Emscripten sets the module exports to be its module
    // with wrapped c functions. Clobber it with our higher
    // level wrapper class.
    module.exports = Olm;
}

// @license-end
